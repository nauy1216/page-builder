(function(t){function e(e){for(var o,r,c=e[0],s=e[1],l=e[2],u=0,p=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={app:0},i=[];function r(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"855d74f5"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=a[t]=[e,o]}));e.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=r(t);var l=new Error;i=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}a[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0329":function(t,e,n){"use strict";var o=n("ac67"),a=n.n(o);a.a},"0f40":function(t,e,n){"use strict";var o=n("d6ac"),a=n.n(o);a.a},"108c":function(t,e,n){"use strict";var o=n("c32f"),a=n.n(o);a.a},"25d5":function(t,e,n){},"3f53":function(t,e,n){"use strict";var o=n("f455"),a=n.n(o);a.a},"4e30":function(t,e,n){"use strict";var o=n("e8e1"),a=n.n(o);a.a},"514b":function(t,e,n){},"583d":function(t,e,n){},"5ec5":function(t,e,n){"use strict";var o=n("b896"),a=n.n(o);a.a},"617c":function(t,e,n){},6244:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("e832");function a(t){return o["default"].extend(t)}},"63bf":function(t,e,n){},"6bcf":function(t,e,n){},7653:function(t,e,n){"use strict";var o=n("617c"),a=n.n(o);a.a},"782f":function(t,e,n){},"809b":function(t,e,n){"use strict";var o=n("deb2"),a=n.n(o);a.a},8515:function(t,e,n){"use strict";var o=n("fb91"),a=n.n(o);a.a},"8ccb":function(t,e,n){"use strict";var o=n("782f"),a=n.n(o);a.a},"8e1f":function(t,e,n){},a45b:function(t,e,n){"use strict";var o=n("6bcf"),a=n.n(o);a.a},ac67:function(t,e,n){},b47d:function(t,e,n){"use strict";var o=n("514b"),a=n.n(o);a.a},b896:function(t,e,n){},c32f:function(t,e,n){},c9d8:function(t,e,n){"use strict";var o=n("f4c9"),a=n.n(o);a.a},cd49:function(t,e,n){"use strict";n.r(e);n("fd85"),n("15db"),n("c026"),n("4031");var o=n("e832"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],r=n("a6c2"),c={},s=Object(r["a"])(c,a,i,!1,null,null,null),l=s.exports,u=n("1740");Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("241c");var d,p=n("4af9"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor"},[n("PageContent",{staticClass:"main"}),n("TopTool",{staticClass:"top"}),n("LeftTool",{directives:[{name:"show",rawName:"v-show",value:t.showLeftTool,expression:"showLeftTool"}],staticClass:"left"}),n("RightTool",{directives:[{name:"show",rawName:"v-show",value:t.showRightTool,expression:"showRightTool"}],staticClass:"right"})],1)},m=[],h=n("2e1a"),g=n("6244"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-tool",style:{width:t.width+"px"}},[n("vue-draggable-resizable",{staticClass:"left-tool-vdr",attrs:{x:0,y:0,w:t.width,maxWidth:500,minWidth:250,draggable:!1,handles:["mr"],active:!0,"prevent-deactivation":!0},on:{resizing:t.handleResize}},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"组件列表",name:"1"}},[n("div",{attrs:{calss:"left-tool-list"}},t._l(t.$compList,(function(e,o){return n("div",{key:e.name+o,staticClass:"left-tool-item",attrs:{draggable:"true"},on:{dragstart:function(n){return n.stopPropagation(),t.handleDragStart(n,e)},dragend:function(n){return n.stopPropagation(),t.handleDragEnd(n,e)}}},[n("i",{staticClass:"icon",class:e.extendOptions.config.icon}),n("span",{staticClass:"name"},[t._v(t._s(e.extendOptions.config.alias))])])})),0)]),n("el-tab-pane",{attrs:{label:"图层管理",name:"2"}},[n("CompTree")],1),n("el-tab-pane",{attrs:{label:"页面",name:"3"}},[n("PageOperate")],1),n("el-tab-pane",{attrs:{label:"代码",name:"4"}},[n("CodeOperate")],1),n("el-tab-pane",{attrs:{label:"编辑器",name:"5"}},[n("EditorOperate")],1)],1)],1)],1)},b=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{on:{click:t.showAddDialog}},[t._v("新增图层")])],1),n("el-tree",{attrs:{data:t.treeData,"node-key":"id","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.node,a=e.data;return n("div",{staticStyle:{flex:"1 1 100%",display:"flex","justify-content":"space-between","align-items":"center"}},[n("span",[t._v(t._s(o.label))]),n("span",{staticStyle:{float:"right"}},[t.isDeactive(o,a)?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.active(a,o)}}},[t._v(" 激活 ")]):t.isActive(o,a)?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.deactive(o)}}},[t._v(" 取消激活 ")]):t._e(),1===o.level?n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return a.data.show=!a.data.show}}},[t._v(" "+t._s(a.data.show?"隐藏":"显示")+" ")]):t._e(),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return t.remove(a,o)}}},[t._v(" 删除 ")])],1)])}}])}),n("Dialog",{ref:"dialog"})],1)},x=[],y=(n("0ffc"),n("57d2")),w=n("94ea"),O=w["e"],j=w["d"],_=(w["c"],w["b"],n("142a")),k=n.n(_),$=function(){},L=Object(g["a"])({data:function(){return{dialogVisible:!1,renderContent:function(){return null},cancel:null,confirm:null,title:"提示",resolve:$,reject:$}},methods:{show:function(t){var e=this;return this.dialogVisible=!0,this.renderContent=t.renderContent,this.cancel=t.cancel,this.confirm=t.confirm,this.title=t.title,new Promise((function(t,n){e.resolve=t,e.reject=n}))},close:function(){this.dialogVisible=!1},handleCancel:function(){null!=this.cancel?this.cancel(this.close):this.close(),this.$emit("cancel"),this.reject()},handleconfirm:function(){null!=this.confirm?this.confirm(this.close):this.close(),this.$emit("confirm"),this.resolve()}},render:function(){var t=this,e=arguments[0],n={on:{"update:visible":function(e){t.dialogVisible=e}}};return e("el-dialog",k()([{attrs:{title:this.title,"append-to-body":!0,"close-on-click-modal":!1,width:"30%",visible:this.dialogVisible}},n]),[this.renderContent(),e("span",{slot:"footer",class:"dialog-footer"},[e("el-button",{on:{click:this.handleCancel}},["取 消"]),e("el-button",{attrs:{type:"primary"},on:{click:this.handleconfirm}},["确 定"])])])}}),S=L;function D(){return d||(d=(new L).$mount(),document.body.append(d.$el)),d}n("862d"),n("46d4"),n("581e"),n("494a"),n("32ec"),n("f542"),n("cbcf"),n("dddc");function E(){return String(+new Date)+parseInt(""+1e4*Math.random())}function M(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}))}function P(t){var e="";return null==t||void 0==t?e:(Object.keys(t).forEach((function(n){e+="".concat(n,"=").concat(t[n],"&")})),e.slice(0,-1))}var T,A,z,N,I=Object(g["a"])({components:{Dialog:S},data:function(){return{formData:{name:""},rules:{name:[{required:!0,message:"请输入图层名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}]}}},computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp","activeLayout"])),{},{treeData:function(){console.log("this.pageConfig ====",this.pageConfig);var t,e,n=[],o={},a=Object(y["a"])(this.pageConfig.layouts);try{for(a.s();!(e=a.n()).done;){var i=e.value;t={id:i.id,label:i.name,data:i,children:[]},n.push(t),o[i.id]=t}}catch(l){a.e(l)}finally{a.f()}var r,c=Object(y["a"])(this.pageConfig.children);try{for(c.s();!(r=c.n()).done;){var s=r.value;o[s.layoutId].children.push({id:s.id,label:s.alias,data:s,children:[]})}}catch(l){c.e(l)}finally{c.f()}return n}}),methods:Object(h["a"])(Object(h["a"])({},j("page",["removeComponent","setActiveComp","addLayout","removeLayout","setActiveLayout"])),{},{isActive:function(t,e){return 1===t.level?this.activeLayout&&e.id==this.activeLayout.id:this.activeComp&&e.id==this.activeComp.id},isDeactive:function(t,e){return 1===t.level?!this.activeLayout||e.id!==this.activeLayout.id:!this.activeComp||e.id!==this.activeComp.id},remove:function(t,e){1===e.level?this.removeLayout(t.id):this.removeComponent(t.id)},active:function(t,e){1===e.level?this.setActiveLayout(t.id):this.setActiveComp(t.id)},deactive:function(t){1===t.level?this.setActiveLayout(null):this.setActiveComp(null)},showAddDialog:function(){var t=this,e=this.$createElement;this.$refs.dialog.show({title:"新增图层",renderContent:function(){return e("div",[e("el-form",{ref:"form",props:Object(h["a"])({},{model:t.formData}),attrs:{rules:t.rules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"名称",prop:"name"}},[e("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)}}})])])])},confirm:function(e){t.$refs.form.validate((function(n){n&&(t.addLayout({id:E(),name:t.formData.name,zIndex:0,show:!0,mode:"position"}),e())}))}})}})}),R=I,X=Object(r["a"])(R,C,x,!1,null,null,null),J=X.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{attrs:{"label-position":"right","label-width":"100px"}},[n("el-form-item",{attrs:{label:"页面名称"}},[n("el-input",{model:{value:t.pageConfig.alias,callback:function(e){t.$set(t.pageConfig,"alias",t._n(e))},expression:"pageConfig.alias"}})],1),n("el-form-item",{attrs:{label:"页面宽度(px)"}},[n("el-input-number",{attrs:{precision:2,step:1},model:{value:t.pageConfig.width,callback:function(e){t.$set(t.pageConfig,"width",t._n(e))},expression:"pageConfig.width"}})],1),n("el-form-item",{attrs:{label:"页面高度(px)"}},[n("el-input-number",{attrs:{precision:2,step:1},model:{value:t.pageConfig.height,callback:function(e){t.$set(t.pageConfig,"height",t._n(e))},expression:"pageConfig.height"}})],1),n("el-form-item",{attrs:{label:"网格宽度(px)"}},[n("el-input-number",{attrs:{precision:0,step:1},model:{value:t.editorConfig.gridX,callback:function(e){t.$set(t.editorConfig,"gridX",t._n(e))},expression:"editorConfig.gridX"}})],1),n("el-form-item",{attrs:{label:"网格高度(px)"}},[n("el-input-number",{attrs:{precision:0,step:1},model:{value:t.editorConfig.gridY,callback:function(e){t.$set(t.editorConfig,"gridY",t._n(e))},expression:"editorConfig.gridY"}})],1),n("el-form-item",{attrs:{label:"缩放"}},[n("el-input-number",{attrs:{min:.1,max:10,precision:1,step:.1},model:{value:t.editorConfig.zoom,callback:function(e){t.$set(t.editorConfig,"zoom",t._n(e))},expression:"editorConfig.zoom"}})],1),n("el-form-item",{attrs:{label:"不超出画布"}},[n("el-switch",{model:{value:t.editorConfig.parent,callback:function(e){t.$set(t.editorConfig,"parent",e)},expression:"editorConfig.parent"}})],1)],1)},q=[],B=Object(g["a"])({computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp"])),O("editor",["editorConfig"])),created:function(){var t=this;this.$watch((function(){return t.pageConfig.width+" "+t.pageConfig.height}),(function(){t.refreshPage()}))},methods:Object(h["a"])({},j("page",["refreshPage"]))}),V=B,H=Object(r["a"])(V,Y,q,!1,null,null,null),F=H.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"code-operate"},[n("el-button",{staticStyle:{"margin-bottom":"10px"},on:{click:t.handleCodeChange}},[t._v("提交")]),n("el-input",{staticClass:"code",attrs:{type:"textarea"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)},K=[],G=Object(g["a"])({data:function(){return{code:""}},computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp"])),O("editor",["editorConfig"])),{},{activeCompProps:function(){return this.activeComp&&this.$compList[this.activeComp.name]}}),watch:{pageConfig:{handler:function(){this.code=JSON.stringify(this.pageConfig,null,2)},deep:!0,immediate:!0}},methods:Object(h["a"])(Object(h["a"])(Object(h["a"])({},j("page",["addComponent","setPageConfig"])),j("editor",["setEditorConfig"])),{},{handleCodeChange:function(){try{var t=JSON.parse(this.code);this.setPageConfig(t)}catch(e){this.$message.error("json解析错误")}}})}),Q=G,U=(n("0329"),Object(r["a"])(Q,W,K,!1,null,"77bff445",null)),Z=U.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{"margin-bottom":"10px"},on:{click:t.handleEditorCodeChange}},[t._v("提交")]),n("el-input",{staticClass:"code",attrs:{type:"textarea"},model:{value:t.editorCode,callback:function(e){t.editorCode=e},expression:"editorCode"}})],1)},et=[],nt=Object(g["a"])({data:function(){return{editorCode:""}},computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp"])),O("editor",["editorConfig"])),watch:{editorConfig:{handler:function(){this.editorCode=JSON.stringify(this.editorConfig,null,2)},deep:!0,immediate:!0}},methods:Object(h["a"])(Object(h["a"])(Object(h["a"])({},j("page",["addComponent","setPageConfig"])),j("editor",["setEditorConfig"])),{},{handleEditorCodeChange:function(){try{var t=JSON.parse(this.editorCode);this.setEditorConfig(t)}catch(e){this.$message.error("json解析错误")}}})}),ot=nt,at=(n("8515"),Object(r["a"])(ot,tt,et,!1,null,"67a334bb",null)),it=at.exports,rt=Object(g["a"])({components:{CompTree:J,PageOperate:F,CodeOperate:Z,EditorOperate:it},data:function(){return{activeName:"1",width:250,height:400}},methods:Object(h["a"])(Object(h["a"])({},j("page",["addComponent","setActiveComp","setDragComp"])),{},{handleDragStart:function(t,e){this.setDragComp(e)},handleDragEnd:function(){this.setDragComp(null)},handleResize:function(t,e,n){this.width=n}})}),ct=rt,st=(n("3f53"),Object(r["a"])(ct,v,b,!1,null,"4cba9e66",null)),lt=st.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right-tool",style:{width:t.width+"px"}},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"布局",name:"1"}},[n("LayoutOperate")],1),n("el-tab-pane",{attrs:{label:"属性",name:"2"}},[t.activeCompProps?n("div",[n("PropOperate")],1):t._e()])],1),n("div",{ref:"trigger",staticClass:"right-tool-trigger"})],1)},dt=[],pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.activeComp?n("el-form",{attrs:{"label-position":"right","label-width":"100px"}},[n("el-form-item",{attrs:{label:"x(px)"}},[n("el-input-number",{attrs:{precision:2,step:1},model:{value:t.activeComp.config.x,callback:function(e){t.$set(t.activeComp.config,"x",t._n(e))},expression:"activeComp.config.x"}})],1),n("el-form-item",{attrs:{label:"y(px)"}},[n("el-input-number",{attrs:{precision:2,step:1},model:{value:t.activeComp.config.y,callback:function(e){t.$set(t.activeComp.config,"y",t._n(e))},expression:"activeComp.config.y"}})],1),n("el-form-item",{attrs:{label:"width(px)"}},[n("el-input-number",{attrs:{precision:2,step:1},model:{value:t.activeComp.config.width,callback:function(e){t.$set(t.activeComp.config,"width",t._n(e))},expression:"activeComp.config.width"}})],1),n("el-form-item",{attrs:{label:"height(px)"}},[n("el-input-number",{attrs:{precision:2,step:1},model:{value:t.activeComp.config.height,callback:function(e){t.$set(t.activeComp.config,"height",t._n(e))},expression:"activeComp.config.height"}})],1),n("el-form-item",{attrs:{label:"z-index(px)"}},[n("el-input-number",{attrs:{precision:0,step:1},model:{value:t.activeComp.config.zIndex,callback:function(e){t.$set(t.activeComp.config,"zIndex",t._n(e))},expression:"activeComp.config.zIndex"}})],1)],1):t._e()},ft=[],mt=Object(g["a"])({data:function(){return{preActiveComp:null,isChangeActiveComp:!1}},computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp"])),O("editor",["editorConfig"])),watch:{activeComp:{handler:function(t,e){this.preActiveComp=e,this.isChangeActiveComp=!0}}},created:function(){var t=this;this.$watch((function(){return t.activeComp?t.activeComp.config.width+" "+t.activeComp.config.height:null}),(function(e,n){t.activeComp&&n&&t.activeComp&&!t.isChangeActiveComp&&(t.refreshComponent(t.activeComp),t.isChangeActiveComp=!1)}))},methods:Object(h["a"])({},j("page",["refreshComponent"]))}),ht=mt,gt=Object(r["a"])(ht,pt,ft,!1,null,null,null),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{attrs:{"label-position":"right","label-width":"100px"}},t._l(t.activeCompProps,(function(e,o){return n("el-form-item",{key:o,attrs:{label:e.label}},[n(e.inputComponent,{tag:"component",model:{value:t.activeComp.data[o],callback:function(e){t.$set(t.activeComp.data,o,e)},expression:"activeComp.data[key]"}})],1)})),1)},Ct=[],xt=Object(g["a"])({computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp"])),O("editor",["editorConfig"])),{},{activeCompProps:function(){return this.activeComp&&this.$compList[this.activeComp.name].extendOptions.props}})}),yt=xt,wt=Object(r["a"])(yt,bt,Ct,!1,null,null,null),Ot=wt.exports,jt=Object(g["a"])({data:function(){return{activeName:"1",width:250,startX:0,startY:0,isDrag:!1}},components:{LayoutOperate:vt,PropOperate:Ot},computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","activeComp"])),O("editor",["editorConfig"])),{},{activeCompProps:function(){return this.activeComp&&this.$compList[this.activeComp.name]}}),created:function(){this.addEvent()},methods:{addEvent:function(){var t=this,e=function(e){t.isDrag&&(t.width+=t.startX-e.clientX,t.width=Math.max(200,t.width),t.width=Math.min(500,t.width),t.startX=e.clientX)},n=function(n){"right-tool-trigger"===n.target.className&&(t.startX=n.clientX,t.startY=n.clientY,t.isDrag=!0),document.addEventListener("mousemove",e)},o=function(){t.isDrag=!1,document.removeEventListener("mousemove",e)};document.addEventListener("mousedown",n),document.addEventListener("mouseup",o)}}}),_t=jt,kt=(n("5ec5"),Object(r["a"])(_t,ut,dt,!1,null,"36d5d4cc",null)),$t=kt.exports,Lt=Object(g["a"])({data:function(){return{top:10,isFullScreen:!1}},computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig"])),O("editor",["editorConfig"])),methods:{handleMouseMove:function(t){t.clientY<60?this.top=10:this.top=-100},save:function(){var t=this;console.log("pageConfig",JSON.parse(JSON.stringify(this.pageConfig)));var e=JSON.parse(JSON.stringify(this.pageConfig));e.children.forEach((function(t){t.config.active=!1})),this.$ajax("postJson",this.$api.pageEdit,{appId:this.$route.query.appId,pageId:this.$route.query.pageId,config:e}).then((function(e){console.log(e),t.$message.success("操作成功")}))},handleScale:function(t){this.editorConfig.zoom+=t,this.editorConfig.zoom=Math.max(0,this.editorConfig.zoom),this.editorConfig.zoom=Math.min(10,this.editorConfig.zoom)},requestFullScreen:function(){this.isFullScreen?(document.exitFullscreen(),this.isFullScreen=!1):(document.documentElement.requestFullscreen(),this.isFullScreen=!0)},preview:function(){this.$router.push("/pageShow")},changeDragMode:function(){this.editorConfig.dragMode=!this.editorConfig.dragMode}},render:function(){var t=this,e=arguments[0],n=this.top,o=this.save,a=this.handleScale,i=this.requestFullScreen,r=this.preview,c=this.changeDragMode;return e("div",{class:"top-tool",style:{top:n+"px"}},[e("el-button-group",[e("el-button",{on:{click:o}},["保存"]),e("el-button",{on:{click:r}},["预览"]),e("el-button",{on:{click:i}},[this.isFullScreen?"退出全屏":"全屏"]),e("el-button",{on:{click:c}},["拖拽模式",this.editorConfig.dragMode?e("i",{class:"el-icon-check"}):null]),e("el-button",{on:{click:function(){return a(.1)}}},[e("i",{class:"el-icon-zoom-in"})]),e("el-button",{on:{click:function(){return a(-.1)}}},[e("i",{class:"el-icon-zoom-out"})]),e("el-button",[e("el-dropdown",{attrs:{trigger:"click"}},[e("span",{style:"font-size:12px; line-height: 12px;"},["设置",e("i",{class:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(){t.editorConfig.showLeftTool=!t.editorConfig.showLeftTool}}},["显示左侧工具栏",this.editorConfig.showLeftTool&&e("i",{class:"el-icon-check"})]),e("el-dropdown-item",{nativeOn:{click:function(){t.editorConfig.showRightTool=!t.editorConfig.showRightTool}}},["显示右侧工具栏",this.editorConfig.showRightTool&&e("i",{class:"el-icon-check"})])])])])])])}}),St=Lt,Dt=(n("ff52"),Object(r["a"])(St,T,A,!1,null,"6f0a8a70",null)),Et=Dt.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("keep-alive",[n("div",{ref:"viewport",staticClass:"view-port",style:{overflow:t.editorConfig.showScrollbar?"auto":"hidden",cursor:t.isStartMove?"pointer":""},on:{dragover:t.handlePageDrageover,drop:t.handlePageDrop,contextmenu:t.handleCanvasContextMenu}},[n("div",{key:t.pageConfig.key,ref:"pageContent",staticClass:"page-content",class:{"drag-mode":t.editorConfig.dragMode},style:{transform:t.transform,width:t.pageConfig.width+"px",height:t.pageConfig.height+"px",background:t.createBackground(t.editorConfig.gridX,t.editorConfig.gridY),zoom:t.editorConfig.zoom}},[n("LayoutPosition",{attrs:{width:t.pageConfig.width,height:t.pageConfig.height},on:{contextmenu:t.handleComponentContextMenu}})],1),n("ContextMenu",{ref:"componentContextMenu",attrs:{options:t.componentMenu}}),n("ContextMenu",{ref:"canvasContextMenu",attrs:{options:t.canvasMenu}})],1)])},Pt=[],Tt=(n("b902"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{left:t.x+"px",top:t.y+"px",position:"fixed"}},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("span",{ref:"trigger",staticClass:"trigger"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.options,(function(e){return n("el-dropdown-item",{key:e.command,attrs:{command:e.command}},[t._v(t._s(e.name))])})),1)],1)],1)}),At=[],zt=Object(g["a"])({props:{options:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{x:0,y:0,component:null}},methods:Object(h["a"])(Object(h["a"])({},j("page",["removeComponent","addComponent"])),{},{show:function(t,e,n){this.x=t,this.y=e,this.component=n,this.$refs.trigger.click()},handleCommand:function(t){var e,n=Object(y["a"])(this.options);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.command===t){o.handle(this.component);break}}}catch(a){n.e(a)}finally{n.f()}}})}),Nt=zt,It=(n("8ccb"),Object(r["a"])(Nt,Tt,At,!1,null,"7ce5c882",null)),Rt=It.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout-position",style:{width:t.width+"px",height:t.height+"px"}},t._l(t.components,(function(e){return n("vue-draggable-resizable",{key:e.key,attrs:{x:e.config.x,y:e.config.y,w:e.config.width,h:e.config.height,parent:t.editorConfig.parent,debug:!1,active:e.config.active,"prevent-deactivation":!0,isConflictCheck:!1,snap:!0,snapTolerance:10},on:{"update:active":function(n){return t.$set(e.config,"active",n)},dragging:function(n,o){return t.handleDrag(e,n,o)},resizing:function(n,o,a,i){return t.handleResize(e,n,o,a,i)},deactivated:function(n){return t.handleDeactivated(e)},activated:function(n){return t.handleActivated(e)}}},[n("div",{style:{width:e.config.width+"px",height:e.config.height+"px"},on:{contextmenu:function(n){return t.handleComponentContextMenu(n,e)}}},[n(t.$compList[e.name],t._b({tag:"component"},"component",e.data,!1))],1)])})),1)},Jt=[],Yt=(n("9588"),n("966c"),n("7e9e"),Object(g["a"])({props:{width:{type:Number},height:{type:Number}},computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},O("page",["pageConfig"])),O("editor",["editorConfig"])),{},{components:function(){var t=this.pageConfig.layouts.filter((function(t){return t.show})).map((function(t){return t.id}));return this.pageConfig.children.filter((function(e){return t.indexOf(e.layoutId)>-1}))}}),methods:Object(h["a"])(Object(h["a"])({},j("page",["refreshComponent","setActiveComp"])),{},{handleDrag:function(t,e,n){t.config.x=e,t.config.y=n},handleResize:function(t,e,n,o,a){t.config.x=e,t.config.y=n,t.config.width=o,t.config.height=a,this.refreshComponent(t)},handleDeactivated:function(){},handleActivated:function(t){this.setActiveComp(t)},handleComponentContextMenu:function(t,e){this.$emit("contextmenu",t,e)}})})),qt=Yt,Bt=(n("7653"),Object(r["a"])(qt,Xt,Jt,!1,null,"300f0c7d",null)),Vt=Bt.exports,Ht={x:0,y:0,width:200,height:200,zIndex:0,lockAspectRatio:!0,active:!0},Ft=Object(g["a"])({components:{ContextMenu:Rt,LayoutPosition:Vt},data:function(){return{componentMenu:[],canvasMenu:[],isStartMove:!1,scrollLeft:0,scrollTop:0,maxScrollLeft:0,maxScrollTop:0,startX:0,startY:0,viewportWidth:0,viewportHeight:0,refreshKey:0}},created:function(){this.addMoveEvent(),this.setContextMenuList(),this.getPageConfig()},computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},O("page",["pageConfig","dragComp","activeLayout"])),O("editor",["editorConfig"])),{},{transform:function(){return this.editorConfig.showScrollbar?"translate(0px, 0px})":"translate(".concat(-this.scrollLeft+"px",", ").concat(-this.scrollTop+"px",")")}}),methods:Object(h["a"])(Object(h["a"])({},j("page",["initPageConfig","setActiveLayout","setPageConfig","setActiveComp","addComponent","removeComponent","clearAllComponent","refreshComponent"])),{},{getPageConfig:function(){var t=this;this.initPageConfig(),this.$ajax("get",this.$api.getPageConfig,{appId:this.$route.query.appId,pageId:this.$route.query.pageId}).then((function(e){var n=e.data;n&&(t.setActiveLayout(n.layouts[0]),t.setPageConfig(n))}))},createVdrKey:function(t,e){return"".concat(t.name," ").concat(e," ").concat(this.refreshKey)},createCompKey:function(t){return t.config.width+"-"+t.config.height},createBackground:function(t,e){return"linear-gradient(-90deg, rgba(0, 0, 0, 0.1) 1px, transparent 1px) 0% 0% / ".concat(t,"px ").concat(t,"px, linear-gradient(rgba(0, 0, 0, 0.1) 1px, transparent 1px) 0% 0% / ").concat(e,"px ").concat(e,"px")},handlePageDrageover:function(t){t.preventDefault(),t.stopPropagation()},scalePosition:function(t){return parseInt(String(t/this.editorConfig.zoom))},handlePageDrop:function(t){if(this.activeLayout){var e=this.dragComp;if(e&&e.extendOptions){var n=t.target.getBoundingClientRect(),o=JSON.parse(JSON.stringify(e.extendOptions.config));o.x=this.scalePosition(t.clientX-n.left)+t.target.scrollLeft,o.y=this.scalePosition(t.clientY-n.top)+t.target.scrollTop,o.x=Math.max(0,o.x),o.y=Math.max(0,o.y),o.x=Math.min(t.target.scrollWidth-o.width,o.x),o.y=Math.min(t.target.scrollHeight-o.height,o.y),o=Object.assign({},Ht,o);var a={},i=e.extendOptions.props;i&&Object.keys(i).forEach((function(t){"function"==typeof i[t].default?a[t]=i[t].default():a[t]=i[t].default})),this.addComponent({layoutId:this.activeLayout.id,id:E(),key:E(),name:e.extendOptions.name,alias:e.extendOptions.config.alias,config:o,data:a})}}else this.$message.error("请先在图层管理中选择图层")},handleComponentContextMenu:function(t,e){t.preventDefault(),t.stopPropagation(),this.$refs.componentContextMenu.show(t.clientX,t.clientY,e)},handleCanvasContextMenu:function(t){t.preventDefault(),t.stopPropagation(),this.$refs.canvasContextMenu.show(t.clientX,t.clientY,this.$refs.viewport)},setContextMenuList:function(){var t=this;this.canvasMenu=[{command:"delete-all-component",name:"删除所有组件",handle:function(){t.clearAllComponent()}}],this.componentMenu=[{command:"delete-component",name:"删除",handle:function(e){t.removeComponent(e)}},{command:"copy-component",name:"复制",handle:function(e){var n=JSON.parse(JSON.stringify(e));n.id=E(),n.key=E(),n.component=e.component,t.addComponent(n)}}]},addMoveEvent:function(){var t=this,e=function(e){if(t.isStartMove){var n=t.$refs.viewport;t.viewportWidth=n.clientWidth,t.viewportHeight=n.clientHeight,t.editorConfig.showScrollbar?(t.maxScrollLeft=n.scrollWidth-t.viewportWidth,t.maxScrollTop=n.scrollHeight-t.viewportHeight):(t.maxScrollLeft=t.pageConfig.width-t.viewportWidth,t.maxScrollTop=t.pageConfig.height-t.viewportHeight),t.scrollLeft+=t.startX-e.clientX,t.scrollTop+=t.startY-e.clientY,t.scrollLeft=Math.max(0,t.scrollLeft),t.scrollTop=Math.max(0,t.scrollTop),t.scrollLeft=Math.min(t.maxScrollLeft,t.scrollLeft),t.scrollTop=Math.min(t.maxScrollTop,t.scrollTop),t.editorConfig.showScrollbar&&n.scrollTo(t.scrollLeft,t.scrollTop),t.startX=e.clientX,t.startY=e.clientY}},n=function(n){n.target.className.indexOf("page-content")>-1&&(t.isStartMove=!0,t.startX=n.clientX,t.startY=n.clientY,document.body.addEventListener("mousemove",e))},o=function(){t.isStartMove=!1,document.body.removeEventListener("mousemove",e)};document.body.addEventListener("mousedown",n),document.body.addEventListener("mouseup",o),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("mousedown",n),document.body.removeEventListener("mouseup",o)}))}})}),Wt=Ft,Kt=(n("d149"),n("f8fa"),Object(r["a"])(Wt,Mt,Pt,!1,null,"3fad8580",null)),Gt=Kt.exports,Qt=Object(g["a"])({components:{TopTool:Et,LeftTool:lt,RightTool:$t,PageContent:Gt},computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig"])),O("editor",{showLeftTool:function(t){return t.editorConfig.showLeftTool},showRightTool:function(t){return t.editorConfig.showRightTool}})),methods:Object(h["a"])({},j("page",["addComponent"]))}),Ut=Qt,Zt=(n("e392"),Object(r["a"])(Ut,f,m,!1,null,"3cc6cef0",null)),te=Zt.exports,ee=Object(g["a"])({data:function(){return{unit:"rem",fontSize:100}},created:function(){this.isRem&&(document.documentElement.style.fontSize=this.fontSize+"px")},beforeDestroy:function(){this.isRem&&(document.documentElement.style.fontSize="14px")},computed:Object(h["a"])(Object(h["a"])({},O("page",["pageConfig"])),{},{isRem:function(){return"rem"===this.unit}}),render:function(t){var e=this,n=JSON.parse(JSON.stringify(this.pageConfig)),o=this.unit,a=this.isRem,i=function(t){return t/e.fontSize};a&&(n.width=i(n.width),n.height=i(n.height),n.children.forEach((function(t){t.config.x=i(t.config.x),t.config.y=i(t.config.y),t.config.width=i(t.config.width),t.config.height=i(t.config.height)})));var r=this.$compList;return t("div",{class:"view-port"},[t("div",{class:"page-content",style:{width:n.width+o,height:n.height+o}},[n.children&&n.children.map((function(e,n){return t("div",{key:n,style:{position:"absolute",left:e.config.x+o,top:e.config.y+o,width:e.config.width+o,height:e.config.height+o,zIndex:e.config.zIndex}},[t(r[e.name],{key:e.name+n,props:Object(h["a"])({},e.data)})])}))])])}}),ne=ee,oe=(n("108c"),Object(r["a"])(ne,z,N,!1,null,"dfa734a6",null)),ae=oe.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-frame"},[n("v-head"),n("v-sidebar"),n("div",{staticClass:"content-box",class:{"content-collapse":t.collapse}},[n("div",{staticClass:"content"},[n("transition",{attrs:{name:"move",mode:"out-in"}},[n("keep-alive",{attrs:{include:t.tagsList}},[n("router-view")],1)],1),n("el-backtop",{attrs:{target:".content"}})],1)])],1)},re=[],ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"collapse-btn",on:{click:t.collapseChage}},[t.collapse?n("i",{staticClass:"el-icon-s-unfold"}):n("i",{staticClass:"el-icon-s-fold"})]),n("div",{staticClass:"logo"},[t._v("wepage后台管理")]),n("div",{staticClass:"header-right"},[n("div",{staticClass:"header-user-con"},[t._m(0),n("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.username)+" "),n("i",{staticClass:"el-icon-caret-bottom"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"loginout"}},[t._v("退出登录")])],1)],1)],1)])])},se=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"user-avator"},[o("img",{attrs:{src:n("cf05")}})])}],le=Object(g["a"])({data:function(){return{collapse:!1,fullscreen:!1,username:"admin"}},methods:{handleCommand:function(t){},collapseChage:function(){this.collapse=!this.collapse,this.$eventBus.$emit("collapse",this.collapse)}},mounted:function(){document.body.clientWidth<1500&&this.collapseChage()}}),ue=le,de=(n("4e30"),Object(r["a"])(ue,ce,se,!1,null,"2a76c1b9",null)),pe=de.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[n("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":t.onRoutes,collapse:t.collapse,"unique-opened":"",router:""}},[t._l(t.items,(function(e){return[e.subs?[n("el-submenu",{key:e.index,attrs:{index:e.index}},[n("template",{slot:"title"},[n("i",{class:e.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),t._l(e.subs,(function(e){return[e.subs?n("el-submenu",{key:e.index,attrs:{index:e.index}},[n("template",{slot:"title"},[t._v(t._s(e.title))]),t._l(e.subs,(function(e,o){return n("el-menu-item",{key:o,attrs:{index:e.index}},[t._v(t._s(e.title))])}))],2):n("el-menu-item",{key:e.index,attrs:{index:e.index}},[t._v(t._s(e.title))])]}))],2)]:[n("el-menu-item",{key:e.index,attrs:{index:e.index}},[n("i",{class:e.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])]]}))],2)],1)},me=[],he=Object(g["a"])({data:function(){return{collapse:!1,items:[{icon:"el-icon-s-tools",index:"appManage",title:"应用管理"}]}},computed:{onRoutes:function(){return this.$route.path.replace("/","")}},created:function(){var t=this;this.$eventBus.$on("collapse",(function(e){t.collapse=e,t.$eventBus.$emit("collapse-content",e)}))}}),ge=he,ve=(n("c9d8"),Object(r["a"])(ge,fe,me,!1,null,"4bb34da2",null)),be=ve.exports,Ce=Object(g["a"])({components:{vHead:pe,vSidebar:be},data:function(){return{tagsList:[],collapse:!1}},created:function(){var t=this;this.$eventBus.$on("collapse-content",(function(e){t.collapse=e}))}}),xe=Ce,ye=(n("a45b"),Object(r["a"])(xe,ie,re,!1,null,"023cf649",null)),we=ye.exports,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-manage"},[n("div",{staticClass:"opera"},[n("el-button",{on:{click:t.createApp}},[t._v("创建应用")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"id",label:"Id",width:"180"}}),n("el-table-column",{attrs:{prop:"appName",label:"名称",width:"180"}}),n("el-table-column",{attrs:{prop:"appType",label:"类型",width:"180"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{on:{click:function(n){return t.pageManage(e.row.id)}}},[t._v("页面管理")])]}}])})],1)],1)},je=[],_e=Object(g["a"])({data:function(){return{tableData:[{id:0,appName:"测试",appType:"web",width:1920,height:1080}],formData:{appName:"",appType:"web"},rules:{}}},created:function(){this.getAppList()},methods:{getAppList:function(){var t=this;this.$ajax("get",this.$api.appList).then((function(e){t.tableData=e.data}))},createApp:function(){var t=this,e=this.$createElement;D().show({title:"创建应用",renderContent:function(){return e("el-form",{ref:"form",props:Object(h["a"])({},{model:t.formData}),attrs:{rules:t.rules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"应用名称",prop:"name"}},[e("el-input",{model:{value:t.formData.appName,callback:function(e){t.$set(t.formData,"appName",e)}}})]),e("el-form-item",{attrs:{label:"应用类型",prop:"name"}},[e("el-input",{model:{value:t.formData.appType,callback:function(e){t.$set(t.formData,"appType",e)}}})])])}}).then((function(){t.$ajax("postJson",t.$api.appAdd,t.formData).then((function(){t.$message.success("操作成功"),t.getAppList()}))}))},pageManage:function(t){this.$router.push("/pageManage?appId="+t)}}}),ke=_e,$e=(n("809b"),Object(r["a"])(ke,Oe,je,!1,null,"a38de9a8",null)),Le=$e.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-manage"},[n("div",{staticClass:"opera"},[n("el-button",{on:{click:t.createApp}},[t._v("创建页面")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"id",label:"Id",width:"180"}}),n("el-table-column",{attrs:{prop:"pageName",label:"名称",width:"180"}}),n("el-table-column",{attrs:{prop:"pageType",label:"类型",width:"180"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{on:{click:function(n){return t.editPage(e.row.id)}}},[t._v("编辑页面")])]}}])})],1)],1)},De=[],Ee=Object(g["a"])({data:function(){return{tableData:[],formData:{appId:"",pageName:"",pageType:"web"},rules:{}}},created:function(){this.getPageList()},methods:{getPageList:function(){var t=this;this.$ajax("get",this.$api.pageList,{appId:this.$route.query.appId}).then((function(e){t.tableData=e.data}))},createApp:function(){var t=this,e=this.$createElement;D().show({title:"创建页面",renderContent:function(){return e("el-form",{ref:"form",props:Object(h["a"])({},{model:t.formData}),attrs:{rules:t.rules,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"页面名称",prop:"pageName"}},[e("el-input",{model:{value:t.formData.pageName,callback:function(e){t.$set(t.formData,"pageName",e)}}})]),e("el-form-item",{attrs:{label:"页面类型",prop:"pageType"}},[e("el-input",{model:{value:t.formData.pageType,callback:function(e){t.$set(t.formData,"pageType",e)}}})])])}}).then((function(){t.formData.appId=t.$route.query.appId,t.$ajax("postJson",t.$api.pageAdd,t.formData).then((function(){t.$message.success("操作成功"),t.getPageList()}))}))},editPage:function(t){this.$router.push("/editor?appId=".concat(this.$route.query.appId,"&pageId=")+t)}}}),Me=Ee,Pe=(n("b47d"),Object(r["a"])(Me,Se,De,!1,null,"6cf81ed2",null)),Te=Pe.exports;o["default"].use(p["a"]);var Ae=[{path:"/",redirect:"/appManage",component:we,meta:{title:""},children:[{path:"/appManage",name:"AppManage",component:Le},{path:"/pageManage",name:"PageManage",component:Te}]},{path:"/editor",name:"Editor",component:te},{path:"/pageShow",name:"PageShow",component:ae},{path:"/test",name:"test",component:function(){return n.e("about").then(n.bind(null,"feda"))}}],ze=new p["a"]({routes:Ae}),Ne=ze,Ie=(n("2252"),n("156c"),n("5e5b"),n("1729"));function Re(t,e){if(!e)return-1;var n=-1;return n="string"===typeof e?t.pageConfig.children.findIndex((function(t){return t.id===e})):t.pageConfig.children.indexOf(e),n}function Xe(t,e){return e?t.pageConfig.children.find((function(t){return t.id===e})):null}function Je(t,e){return e?t.pageConfig.layouts.find((function(t){return t.id===e})):null}function Ye(t,e){return e?t.pageConfig.layouts.findIndex((function(t){return t.id===e})):-1}function qe(){var t={id:E(),name:"默认",zIndex:0,show:!0,mode:"position"},e={id:E(),key:E(),alias:"",width:1920,height:1080,layouts:[t],children:[]};return{dragComp:null,activeComp:null,activeLayout:t,pageConfig:e}}var Be={namespaced:!0,state:qe(),mutations:{setActiveComp:function(t,e){var n;n="string"===typeof e?Xe(t,e):e,t.activeComp&&(t.activeComp.config.active=!1),n&&(n.config.active=!0),t.activeComp=n},setDragComp:function(t,e){t.dragComp=e},addComponent:function(t,e){e&&(t.pageConfig.children.push(e),this.commit("page/setActiveComp",e))},removeComponent:function(t,e){if(e){var n=Re(t,e);n>-1&&("string"===typeof e?t.activeComp&&t.activeComp.id===e&&(t.activeComp=null):t.activeComp&&t.activeComp.id===e.id&&(t.activeComp=null),t.pageConfig.children.splice(n,1))}},refreshComponent:Object(Ie["debounce"])(300,(function(t,e){e.key=E()})),clearAllComponent:function(t){t.pageConfig.children=[]},refreshPage:Object(Ie["debounce"])(300,(function(t){t.pageConfig.key=E()})),setPageConfig:function(t,e){t.pageConfig=e},initPageConfig:function(t){var e=qe();t.activeComp=e.activeComp,t.dragComp=e.dragComp,t.activeLayout=e.activeLayout,t.pageConfig=e.pageConfig},setActiveLayout:function(t,e){t.activeLayout=null==e?null:"string"===typeof e?Je(t,e):e,this.commit("page/setActiveComp",null)},addLayout:function(t,e){e&&(t.pageConfig.layouts.push(e),this.commit("page/setActiveLayout",e))},removeLayout:function(t,e){var n=Ye(t,e);n>-1&&(t.pageConfig.layouts.splice(n,1),t.pageConfig.children=t.pageConfig.children.filter((function(t){return t.layoutId!=e})))}}},Ve=Be,He={gridX:20,gridY:20,showScrollbar:!0,parent:!0,zoom:1,showLeftTool:!0,showRightTool:!0,dragMode:!1},Fe={namespaced:!0,state:{editorConfig:He},mutations:{setEditorConfig:function(t,e){t.editorConfig=Object.assign({},He,e)}}},We=Fe;o["default"].use(w["a"]);var Ke={},Ge={},Qe={},Ue={},Ze=new w["a"].Store({state:Ke,mutations:Ge,getters:Qe,actions:Ue,modules:{page:Ve,editor:We}}),tn=Ze,en=(n("63bf"),n("8e1f"),n("a743")),nn=n.n(en),on=(n("554d"),n("cca1")),an=n.n(on),rn=(n("8842"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test",style:{background:t.color}},[n("p",[t._v("【hello66666】 "+t._s(t.msg))])])}),cn=[],sn=function(t){return t},ln=sn,un=ln({name:"Test",config:{alias:"测试",icon:"el-icon-star-on",width:100,height:100},created:function(){console.log("测试")},props:{msg:{type:String,inputComponent:"el-input",default:"hello",label:"消息"},color:{type:String,inputComponent:"el-color-picker",default:"#ffffff",label:"颜色"}}}),dn=un,pn=(n("0f40"),Object(r["a"])(dn,rn,cn,!1,null,"6254674d",null)),fn=pn.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-histogram",{attrs:{data:t.chartData}})},hn=[],gn=n("1133"),vn=ln({name:"ChartHistogram",config:{alias:"柱状图",icon:"el-icon-star-on",width:400,height:400},components:{VeHistogram:gn["VeHistogram"]},data:function(){return{chartData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}}}),bn=vn,Cn=Object(r["a"])(bn,mn,hn,!1,null,null,null),xn=Cn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-bar",{attrs:{data:t.chartData}})},wn=[],On=ln({name:"ChartBar",config:{alias:"条形图",icon:"el-icon-star-on",width:400,height:400},components:{VeBar:gn["VeBar"]},created:function(){console.log("kkkk")},data:function(){return{chartData:{columns:["日期","访问用户","下单用户","下单率"],rows:[{"日期":"1/1","访问用户":1393,"下单用户":1093,"下单率":.32},{"日期":"1/2","访问用户":3530,"下单用户":3230,"下单率":.26},{"日期":"1/3","访问用户":2923,"下单用户":2623,"下单率":.76},{"日期":"1/4","访问用户":1723,"下单用户":1423,"下单率":.49},{"日期":"1/5","访问用户":3792,"下单用户":3492,"下单率":.323},{"日期":"1/6","访问用户":4593,"下单用户":4293,"下单率":.78}]}}}}),jn=On,_n=Object(r["a"])(jn,yn,wn,!1,null,null,null),kn=_n.exports,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-pie",{attrs:{data:t.chartData}})},Ln=[],Sn=ln({name:"ChartPie",config:{alias:"饼图",icon:"el-icon-star-on",width:400,height:200},components:{VePie:gn["VePie"]},data:function(){return{chartData:{columns:["日期","访问用户"],rows:[{"日期":"1/1","访问用户":1393},{"日期":"1/2","访问用户":3530},{"日期":"1/3","访问用户":2923},{"日期":"1/4","访问用户":1723},{"日期":"1/5","访问用户":3792},{"日期":"1/6","访问用户":4593}]}}}}),Dn=Sn,En=Object(r["a"])(Dn,$n,Ln,!1,null,null,null),Mn=En.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ve-ring",{attrs:{data:t.chartData}})},Tn=[],An=ln({name:"ChartRing",props:{msg:{type:String,inputComponent:"el-input",default:"hello",label:"消息"},color:{type:String,inputComponent:"el-color-picker",default:"#ffffff",label:"颜色"}},config:{alias:"环图",icon:"el-icon-star-on",x:0,y:0,width:400,height:200},components:{VeRing:gn["VeRing"]},data:function(){return{chartData:{columns:["日期","访问用户"],rows:[{"日期":"1/1","访问用户":1393},{"日期":"1/2","访问用户":3530},{"日期":"1/3","访问用户":2923},{"日期":"1/4","访问用户":1723},{"日期":"1/5","访问用户":3792},{"日期":"1/6","访问用户":4593}]}}}}),zn=An,Nn=Object(r["a"])(zn,Pn,Tn,!1,null,null,null),In=Nn.exports,Rn={Test:fn,ChartHistogram:xn,ChartBar:kn,ChartPie:Mn,ChartRing:In},Xn={install:function(t){Object.keys(Rn).forEach((function(e){"function"!=typeof Rn[e]&&(Rn[e]=t.extend(Rn[e]))})),t.prototype.$compList=Rn}},Jn={appAdd:"/apis/app/add",appList:"/apis/app/list",pageAdd:"/apis/page/add",pageList:"/apis/page/list",pageEdit:"/apis/page/edit",getPageConfig:"/apis/page/getConfig"},Yn=Jn,qn=n("7338"),Bn=n.n(qn);function Vn(t){console.log("请求错误",t)}var Hn=function(t,e,n,o){var a=Math.round((new Date).getTime()/1e3);return Bn.a.defaults.timeout=18e5,Bn.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",Bn.a.defaults.headers.common["timestamp"]=a,Bn.a.defaults.headers.common["ua"]="5",Bn.a.defaults.headers.common["source"]="8",Bn.a.defaults.headers.common["sn"]=M(),Bn.a.defaults.headers.common["Authorization"]="Bearer token",new Promise((function(a,i){switch(t){case"post":n=P(n),Bn.a.post(e,n).then((function(t){200==t.status&&200==t.data.code?a(o?t:t.data):t.data.message&&(Vn(t),i(o?t:t.data))}),(function(t){console.log("错误日志",t.response),Vn(t),i(t.response)})).catch((function(t){i(t),console.log("post--",t)}));break;case"postJson":Bn.a.post(e,n).then((function(t){200==t.status&&200==t.data.code?a(o?t:t.data):(Vn(t),i(o?t:t.data))}),(function(t){console.log("错误日志",t.response),Vn(t),i(t.response)})).catch((function(t){i(t),console.log("post--",t)}));break;case"get":Bn.a.get(e,{params:n}).then((function(t){200==t.status&&200==t.data.code?a(o?t:t.data):(Vn(t),i(o?t:t.data))}),(function(t){console.log("错误日志",t.response),Vn(t),i(t.response)})).catch((function(t){i(t),console.log("get--",t)}));break}}))},Fn=Hn;o["default"].use(Xn),o["default"].prototype.$api=Yn,o["default"].prototype.$ajax=Fn,o["default"].component("vue-draggable-resizable",nn.a),o["default"].use(an.a,{size:"mini"}),o["default"].prototype.$eventBus=new o["default"],o["default"].config.productionTip=!1,new o["default"]({router:Ne,store:tn,render:function(t){return t(l)}}).$mount("#app")},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d149:function(t,e,n){"use strict";var o=n("d48b"),a=n.n(o);a.a},d48b:function(t,e,n){},d6ac:function(t,e,n){},deb2:function(t,e,n){},e392:function(t,e,n){"use strict";var o=n("25d5"),a=n.n(o);a.a},e8e1:function(t,e,n){},eee0:function(t,e,n){},f455:function(t,e,n){},f4c9:function(t,e,n){},f8fa:function(t,e,n){"use strict";var o=n("583d"),a=n.n(o);a.a},fb91:function(t,e,n){},ff52:function(t,e,n){"use strict";var o=n("eee0"),a=n.n(o);a.a}});
//# sourceMappingURL=app.dfd81562.js.map